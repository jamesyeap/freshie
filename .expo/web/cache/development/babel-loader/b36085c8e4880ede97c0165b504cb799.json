{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/incubator/TabController/PageCarousel.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport _ from 'lodash';\nimport TabBarContext from \"./TabBarContext\";\nimport Animated from 'react-native-reanimated';\nimport { Constants } from \"../../helpers\";\nvar Code = Animated.Code,\n    block = Animated.block,\n    call = Animated.call;\n\nvar PageCarousel = function (_PureComponent) {\n  _inherits(PageCarousel, _PureComponent);\n\n  var _super = _createSuper(PageCarousel);\n\n  function PageCarousel() {\n    var _this;\n\n    _classCallCheck(this, PageCarousel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.carousel = React.createRef();\n    _this.onScroll = Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          x: _this.context.carouselOffset\n        }\n      }\n    }], {\n      useNativeDriver: true\n    });\n\n    _this.onTabChange = function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n          index = _ref2[0];\n\n      _this.scrollToPage(index, true);\n    };\n\n    _this.scrollToPage = function (pageIndex, animated) {\n      var node = _.invoke(_this.carousel, 'current.getNode');\n\n      if (node) {\n        node.scrollTo({\n          x: pageIndex * Constants.screenWidth,\n          animated: animated\n        });\n      }\n    };\n\n    _this.renderCodeBlock = function () {\n      var currentPage = _this.context.currentPage;\n      return block([Animated.onChange(currentPage, call([currentPage], _this.onTabChange))]);\n    };\n\n    return _this;\n  }\n\n  _createClass(PageCarousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (Constants.isAndroid) {\n        setTimeout(function () {\n          _this2.scrollToPage(_this2.context.selectedIndex, false);\n        }, 0);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var selectedIndex = this.context.selectedIndex;\n      return React.createElement(React.Fragment, null, React.createElement(Animated.ScrollView, _extends({}, this.props, {\n        ref: this.carousel,\n        horizontal: true,\n        pagingEnabled: true,\n        showsHorizontalScrollIndicator: false,\n        onScroll: this.onScroll,\n        scrollEventThrottle: 16,\n        contentOffset: {\n          x: selectedIndex * Constants.screenWidth\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }\n      })), React.createElement(Code, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, this.renderCodeBlock));\n    }\n  }]);\n\n  return PageCarousel;\n}(PureComponent);\n\nPageCarousel.displayName = 'IGNORE';\nPageCarousel.contextType = TabBarContext;\nexport default PageCarousel;","map":{"version":3,"sources":["/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/incubator/TabController/PageCarousel.js"],"names":["React","PureComponent","_","TabBarContext","Animated","Constants","Code","block","call","PageCarousel","carousel","createRef","onScroll","event","nativeEvent","contentOffset","x","context","carouselOffset","useNativeDriver","onTabChange","index","scrollToPage","pageIndex","animated","node","invoke","scrollTo","screenWidth","renderCodeBlock","currentPage","onChange","isAndroid","setTimeout","selectedIndex","props","displayName","contextType"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,aAAf,QAAmC,OAAnC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,aAAP;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAAQC,SAAR;AAEA,IAAOC,IAAP,GAA4BF,QAA5B,CAAOE,IAAP;AAAA,IAAaC,KAAb,GAA4BH,QAA5B,CAAaG,KAAb;AAAA,IAAoBC,IAApB,GAA4BJ,QAA5B,CAAoBI,IAApB;;IAEMC,Y;;;;;;;;;;;;;;;UAGJC,Q,GAAWV,KAAK,CAACW,SAAN,E;UAEXC,Q,GAAWR,QAAQ,CAACS,KAAT,CAAe,CAAC;AAACC,MAAAA,WAAW,EAAE;AAACC,QAAAA,aAAa,EAAE;AAACC,UAAAA,CAAC,EAAE,MAAKC,OAAL,CAAaC;AAAjB;AAAhB;AAAd,KAAD,CAAf,EAAmF;AAC5FC,MAAAA,eAAe,EAAE;AAD2E,KAAnF,C;;UAYXC,W,GAAc,gBAAa;AAAA;AAAA,UAAXC,KAAW;;AACzB,YAAKC,YAAL,CAAkBD,KAAlB,EAAyB,IAAzB;AACD,K;;UAEDC,Y,GAAe,UAACC,SAAD,EAAYC,QAAZ,EAAyB;AACtC,UAAMC,IAAI,GAAGvB,CAAC,CAACwB,MAAF,CAAS,MAAKhB,QAAd,EAAwB,iBAAxB,CAAb;;AACA,UAAIe,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACE,QAAL,CAAc;AAACX,UAAAA,CAAC,EAAEO,SAAS,GAAGlB,SAAS,CAACuB,WAA1B;AAAuCJ,UAAAA,QAAQ,EAARA;AAAvC,SAAd;AACD;AACF,K;;UAEDK,e,GAAkB,YAAM;AACtB,UAAOC,WAAP,GAAsB,MAAKb,OAA3B,CAAOa,WAAP;AACA,aAAOvB,KAAK,CAAC,CAACH,QAAQ,CAAC2B,QAAT,CAAkBD,WAAlB,EAA+BtB,IAAI,CAAC,CAACsB,WAAD,CAAD,EAAgB,MAAKV,WAArB,CAAnC,CAAD,CAAD,CAAZ;AACD,K;;;;;;;WAtBD,6BAAoB;AAAA;;AAClB,UAAIf,SAAS,CAAC2B,SAAd,EAAyB;AACvBC,QAAAA,UAAU,CAAC,YAAM;AACf,UAAA,MAAI,CAACX,YAAL,CAAkB,MAAI,CAACL,OAAL,CAAaiB,aAA/B,EAA8C,KAA9C;AACD,SAFS,EAEP,CAFO,CAAV;AAGD;AACF;;;WAkBD,kBAAS;AACP,UAAOA,aAAP,GAAwB,KAAKjB,OAA7B,CAAOiB,aAAP;AACA,aACE,0CACE,oBAAC,QAAD,CAAU,UAAV,eACM,KAAKC,KADX;AAEE,QAAA,GAAG,EAAE,KAAKzB,QAFZ;AAGE,QAAA,UAAU,MAHZ;AAIE,QAAA,aAAa,MAJf;AAKE,QAAA,8BAA8B,EAAE,KALlC;AAME,QAAA,QAAQ,EAAE,KAAKE,QANjB;AAOE,QAAA,mBAAmB,EAAE,EAPvB;AAQE,QAAA,aAAa,EAAE;AAACI,UAAAA,CAAC,EAAEkB,aAAa,GAAG7B,SAAS,CAACuB;AAA9B,SARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAYE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO,KAAKC,eAAZ,CAZF,CADF;AAgBD;;;;EAnDwB5B,a;;AAArBQ,Y,CACG2B,W,GAAc,Q;AADjB3B,Y,CAEG4B,W,GAAclC,a;AAoDvB,eAAeM,YAAf","sourcesContent":["import React, {PureComponent} from 'react';\nimport _ from 'lodash';\nimport TabBarContext from './TabBarContext';\nimport Animated from 'react-native-reanimated';\nimport {Constants} from '../../helpers';\n\nconst {Code, block, call} = Animated;\n\nclass PageCarousel extends PureComponent {\n  static displayName = 'IGNORE';\n  static contextType = TabBarContext;\n  carousel = React.createRef();\n\n  onScroll = Animated.event([{nativeEvent: {contentOffset: {x: this.context.carouselOffset}}}], {\n    useNativeDriver: true\n  });\n\n  componentDidMount() {\n    if (Constants.isAndroid) {\n      setTimeout(() => {\n        this.scrollToPage(this.context.selectedIndex, false);\n      }, 0);\n    }\n  }\n\n  onTabChange = ([index]) => {\n    this.scrollToPage(index, true);\n  };\n\n  scrollToPage = (pageIndex, animated) => {\n    const node = _.invoke(this.carousel, 'current.getNode');\n    if (node) {\n      node.scrollTo({x: pageIndex * Constants.screenWidth, animated});\n    }\n  };\n\n  renderCodeBlock = () => {\n    const {currentPage} = this.context;\n    return block([Animated.onChange(currentPage, call([currentPage], this.onTabChange))]);\n  };\n\n  render() {\n    const {selectedIndex} = this.context;\n    return (\n      <>\n        <Animated.ScrollView\n          {...this.props}\n          ref={this.carousel}\n          horizontal\n          pagingEnabled\n          showsHorizontalScrollIndicator={false}\n          onScroll={this.onScroll}\n          scrollEventThrottle={16}\n          contentOffset={{x: selectedIndex * Constants.screenWidth}} // iOS only\n        />\n\n        <Code>{this.renderCodeBlock}</Code>\n      </>\n    );\n  }\n}\n\nexport default PageCarousel;\n"]},"metadata":{},"sourceType":"module"}
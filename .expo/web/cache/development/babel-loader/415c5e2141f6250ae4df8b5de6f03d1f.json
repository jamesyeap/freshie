{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _ from 'lodash';\nimport Appearance from \"react-native-web/dist/exports/Appearance\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Typography, Colors, BorderRadiuses, Spacings, ThemeManager } from \"../style\";\nexport var FLEX_KEY_PATTERN = /^flex(G|S)?(-\\d*)?$/;\nexport var PADDING_KEY_PATTERN = new RegExp(\"padding[LTRBHV]?-([0-9]*|\" + Spacings.getKeysPattern() + \")\");\nexport var MARGIN_KEY_PATTERN = new RegExp(\"margin[LTRBHV]?-([0-9]*|\" + Spacings.getKeysPattern() + \")\");\nexport var ALIGNMENT_KEY_PATTERN = /(left|top|right|bottom|center|centerV|centerH|spread)/;\nexport var POSITION_KEY_PATTERN = /^abs([F|L|R|T|B|V|H])?$/;\nvar PADDING_VARIATIONS = {\n  padding: 'padding',\n  paddingL: 'paddingLeft',\n  paddingT: 'paddingTop',\n  paddingR: 'paddingRight',\n  paddingB: 'paddingBottom',\n  paddingH: 'paddingHorizontal',\n  paddingV: 'paddingVertical'\n};\nvar MARGIN_VARIATIONS = {\n  margin: 'margin',\n  marginL: 'marginLeft',\n  marginT: 'marginTop',\n  marginR: 'marginRight',\n  marginB: 'marginBottom',\n  marginH: 'marginHorizontal',\n  marginV: 'marginVertical'\n};\nvar STYLE_KEY_CONVERTERS = {\n  flex: 'flex',\n  flexG: 'flexGrow',\n  flexS: 'flexShrink'\n};\nexport function extractColorValue(props) {\n  var scheme = Appearance.getColorScheme() || 'light';\n  var schemeColors = Colors.schemes[scheme];\n  var allColorsKeys = [].concat(_toConsumableArray(_.keys(Colors)), _toConsumableArray(_.keys(schemeColors)));\n\n  var colorPropsKeys = _.chain(props).keys().filter(function (key) {\n    return _.includes(allColorsKeys, key);\n  }).value();\n\n  var colorKey = _.findLast(colorPropsKeys, function (colorKey) {\n    return props[colorKey] === true;\n  });\n\n  return schemeColors[colorKey] || Colors[colorKey];\n}\nexport function extractBackgroundColorValue(props) {\n  var backgroundColor;\n  var scheme = Appearance.getColorScheme() || 'light';\n  var schemeColors = Colors.schemes[scheme];\n  var keys = Object.keys(props);\n\n  var bgProp = _.findLast(keys, function (prop) {\n    return Colors.getBackgroundKeysPattern().test(prop) && !!props[prop];\n  });\n\n  if (props[bgProp]) {\n    var key = bgProp.replace(Colors.getBackgroundKeysPattern(), '');\n    backgroundColor = schemeColors[key] || Colors[key];\n  }\n\n  return backgroundColor;\n}\nexport function extractTypographyValue(props) {\n  var typographyPropsKeys = _.chain(props).keys().filter(function (key) {\n    return Typography.getKeysPattern().test(key);\n  }).value();\n\n  var typography;\n\n  _.forEach(typographyPropsKeys, function (key) {\n    if (props[key] === true) {\n      typography = _objectSpread(_objectSpread({}, typography), Typography[key]);\n    }\n  });\n\n  return typography;\n}\nexport function extractPaddingValues(props) {\n  var paddings = {};\n\n  var paddingPropsKeys = _.chain(props).keys().filter(function (key) {\n    return PADDING_KEY_PATTERN.test(key);\n  }).value();\n\n  _.forEach(paddingPropsKeys, function (key) {\n    if (props[key] === true) {\n      var _key$split = key.split('-'),\n          _key$split2 = _slicedToArray(_key$split, 2),\n          paddingKey = _key$split2[0],\n          paddingValue = _key$split2[1];\n\n      var paddingVariation = PADDING_VARIATIONS[paddingKey];\n\n      if (!isNaN(Number(paddingValue))) {\n        paddings[paddingVariation] = Number(paddingValue);\n      } else if (Spacings.getKeysPattern().test(paddingValue)) {\n        paddings[paddingVariation] = Spacings[paddingValue];\n      }\n    }\n  });\n\n  return paddings;\n}\nexport function extractMarginValues(props) {\n  var margins = {};\n\n  var marginPropsKeys = _.chain(props).keys().filter(function (key) {\n    return MARGIN_KEY_PATTERN.test(key);\n  }).value();\n\n  _.forEach(marginPropsKeys, function (key) {\n    if (props[key] === true) {\n      var _key$split3 = key.split('-'),\n          _key$split4 = _slicedToArray(_key$split3, 2),\n          marginKey = _key$split4[0],\n          marginValue = _key$split4[1];\n\n      var paddingVariation = MARGIN_VARIATIONS[marginKey];\n\n      if (!isNaN(Number(marginValue))) {\n        margins[paddingVariation] = Number(marginValue);\n      } else if (Spacings.getKeysPattern().test(marginValue)) {\n        margins[paddingVariation] = Spacings[marginValue];\n      }\n    }\n  });\n\n  return margins;\n}\nexport function extractAlignmentsValues(props) {\n  var row = props.row,\n      center = props.center;\n  var alignments = {};\n  var alignmentRules = {};\n\n  if (row) {\n    alignments.flexDirection = 'row';\n    alignmentRules.justifyContent = ['left', 'right', 'centerH', 'spread'];\n    alignmentRules.alignItems = ['top', 'bottom', 'centerV'];\n  } else {\n    alignmentRules.justifyContent = ['top', 'bottom', 'centerV', 'spread'];\n    alignmentRules.alignItems = ['left', 'right', 'centerH'];\n  }\n\n  _.forEach(alignmentRules, function (positions, attribute) {\n    _.forEach(positions, function (position) {\n      if (props[position]) {\n        if (_.includes(['top', 'left'], position)) {\n          alignments[attribute] = 'flex-start';\n        } else if (_.includes(['bottom', 'right'], position)) {\n          alignments[attribute] = 'flex-end';\n        } else if (_.includes(['centerH', 'centerV'], position)) {\n          alignments[attribute] = 'center';\n        } else if (position === 'spread') {\n          alignments[attribute] = 'space-between';\n        }\n      }\n    });\n  });\n\n  if (center) {\n    alignments.justifyContent = 'center';\n    alignments.alignItems = 'center';\n  }\n\n  return alignments;\n}\nexport function extractPositionStyle(props) {\n  var POSITION_CONVERSIONS = {\n    F: 'Fill',\n    T: 'Top',\n    B: 'Bottom',\n    L: 'Left',\n    R: 'Right',\n    H: 'Horizontal',\n    V: 'Vertical'\n  };\n  var keys = Object.keys(props);\n\n  var positionProp = _.findLast(keys, function (prop) {\n    return POSITION_KEY_PATTERN.test(prop) && !!props[prop];\n  });\n\n  if (positionProp) {\n    var positionVariationKey = _.split(positionProp, 'abs')[1];\n\n    if (positionVariationKey) {\n      var positionVariation = POSITION_CONVERSIONS[positionVariationKey];\n      var styleKey = \"absolute\" + positionVariation;\n      return styles[styleKey];\n    }\n\n    return styles.absolute;\n  }\n}\nexport function extractFlexStyle(props) {\n  var keys = Object.keys(props);\n  var flexProp = keys.find(function (item) {\n    return FLEX_KEY_PATTERN.test(item);\n  });\n\n  if (flexProp && props[flexProp] === true) {\n    var _flexProp$split = flexProp.split('-'),\n        _flexProp$split2 = _slicedToArray(_flexProp$split, 2),\n        flexKey = _flexProp$split2[0],\n        flexValue = _flexProp$split2[1];\n\n    var convertedFlexKey = STYLE_KEY_CONVERTERS[flexKey];\n    var flexValueAsNumber = _.isEmpty(flexValue) ? 1 : Number(flexValue);\n    return _defineProperty({}, convertedFlexKey, flexValueAsNumber);\n  }\n}\nexport function extractAccessibilityProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  return _.pickBy(props, function (_value, key) {\n    return /.*ccessib.*/.test(key);\n  });\n}\nexport function extractAnimationProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  return _.pick(props, ['animation', 'duration', 'delay', 'direction', 'easing', 'iterationCount', 'transition', 'onAnimationBegin', 'onAnimationEnd', 'useNativeDriver']);\n}\nexport function extractBorderRadiusValue(props) {\n  var borderRadius;\n  var keys = Object.keys(props);\n  var radiusProp = keys.find(function (prop) {\n    return BorderRadiuses.getKeysPattern().test(prop) && props[prop];\n  });\n\n  if (radiusProp) {\n    borderRadius = BorderRadiuses[radiusProp];\n  }\n\n  return borderRadius;\n}\nexport function extractModifierProps(props) {\n  var patterns = [FLEX_KEY_PATTERN, PADDING_KEY_PATTERN, MARGIN_KEY_PATTERN, ALIGNMENT_KEY_PATTERN, Colors.getBackgroundKeysPattern()];\n\n  var modifierProps = _.pickBy(props, function (_value, key) {\n    var isModifier = _.find(patterns, function (pattern) {\n      return pattern.test(key);\n    });\n\n    return !!isModifier;\n  });\n\n  return modifierProps;\n}\nexport function extractOwnProps(props, ignoreProps) {\n  var ownPropTypes = this.propTypes;\n\n  var ownProps = _.chain(props).pickBy(function (_value, key) {\n    return _.includes(Object.keys(ownPropTypes), key);\n  }).omit(ignoreProps).value();\n\n  return ownProps;\n}\nexport function extractComponentProps(component, props) {\n  var ignoreProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var componentPropTypes = component.propTypes;\n\n  var componentProps = _.chain(props).pickBy(function (_value, key) {\n    return _.includes(Object.keys(componentPropTypes), key);\n  }).omit(ignoreProps).value();\n\n  return componentProps;\n}\nexport function getThemeProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.context;\n  var componentName = this.displayName || this.constructor.displayName || this.constructor.name;\n  var themeProps;\n\n  if (_.isFunction(ThemeManager.components[componentName])) {\n    themeProps = ThemeManager.components[componentName](props, context);\n  } else {\n    themeProps = ThemeManager.components[componentName];\n  }\n\n  var forcedThemeProps;\n\n  if (_.isFunction(ThemeManager.forcedThemeComponents[componentName])) {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName](props, context);\n  } else {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName];\n  }\n\n  return _objectSpread(_objectSpread(_objectSpread({}, themeProps), props), forcedThemeProps);\n}\nexport function generateModifiersStyle() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    color: true,\n    typography: true,\n    backgroundColor: true,\n    borderRadius: true,\n    paddings: true,\n    margins: true,\n    alignments: true,\n    flex: true,\n    position: true\n  };\n  var props = arguments.length > 1 ? arguments[1] : undefined;\n  var boundProps = props || this.props;\n  var style = {};\n\n  if (options.color) {\n    style.color = extractColorValue(boundProps);\n  }\n\n  if (options.typography) {\n    style.typography = extractTypographyValue(boundProps);\n  }\n\n  if (options.backgroundColor) {\n    style.backgroundColor = extractBackgroundColorValue(boundProps);\n  }\n\n  if (options.borderRadius) {\n    style.borderRadius = extractBorderRadiusValue(boundProps);\n  }\n\n  if (options.paddings) {\n    style.paddings = extractPaddingValues(boundProps);\n  }\n\n  if (options.margins) {\n    style.margins = extractMarginValues(boundProps);\n  }\n\n  if (options.alignments) {\n    style.alignments = extractAlignmentsValues(boundProps);\n  }\n\n  if (options.flex) {\n    style.flexStyle = extractFlexStyle(boundProps);\n  }\n\n  if (options.position) {\n    style.positionStyle = extractPositionStyle(boundProps);\n  }\n\n  return style;\n}\nexport function getAlteredModifiersOptions(currentProps, nextProps) {\n  var ignoredKeys = ['children', 'forwardedRef', 'style', 'testID'];\n\n  var allKeys = _.union([].concat(_toConsumableArray(_.keys(currentProps)), _toConsumableArray(_.keys(nextProps)))).filter(function (key) {\n    return !ignoredKeys.includes(key);\n  });\n\n  var changedKeys = _.filter(allKeys, function (key) {\n    return !_.isEqual(currentProps[key], nextProps[key]);\n  });\n\n  var options = {};\n\n  if (_.find(changedKeys, function (key) {\n    return FLEX_KEY_PATTERN.test(key);\n  })) {\n    options.flex = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return PADDING_KEY_PATTERN.test(key);\n  })) {\n    options.paddings = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return MARGIN_KEY_PATTERN.test(key);\n  })) {\n    options.margins = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return ALIGNMENT_KEY_PATTERN.test(key);\n  })) {\n    options.alignments = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return Colors.getBackgroundKeysPattern().test(key);\n  })) {\n    options.backgroundColor = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return POSITION_KEY_PATTERN.test(key);\n  })) {\n    options.position = true;\n  }\n\n  return options;\n}\nvar styles = StyleSheet.create({\n  absolute: {\n    position: 'absolute'\n  },\n  absoluteFill: StyleSheet.absoluteFillObject,\n  absoluteTop: {\n    position: 'absolute',\n    top: 0\n  },\n  absoluteBottom: {\n    position: 'absolute',\n    bottom: 0\n  },\n  absoluteLeft: {\n    position: 'absolute',\n    left: 0\n  },\n  absoluteRight: {\n    position: 'absolute',\n    right: 0\n  },\n  absoluteVertical: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0\n  },\n  absoluteHorizontal: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});","map":{"version":3,"sources":["/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/commons/modifiers.js"],"names":["_","Typography","Colors","BorderRadiuses","Spacings","ThemeManager","FLEX_KEY_PATTERN","PADDING_KEY_PATTERN","RegExp","getKeysPattern","MARGIN_KEY_PATTERN","ALIGNMENT_KEY_PATTERN","POSITION_KEY_PATTERN","PADDING_VARIATIONS","padding","paddingL","paddingT","paddingR","paddingB","paddingH","paddingV","MARGIN_VARIATIONS","margin","marginL","marginT","marginR","marginB","marginH","marginV","STYLE_KEY_CONVERTERS","flex","flexG","flexS","extractColorValue","props","scheme","Appearance","getColorScheme","schemeColors","schemes","allColorsKeys","keys","colorPropsKeys","chain","filter","key","includes","value","colorKey","findLast","extractBackgroundColorValue","backgroundColor","Object","bgProp","prop","getBackgroundKeysPattern","test","replace","extractTypographyValue","typographyPropsKeys","typography","forEach","extractPaddingValues","paddings","paddingPropsKeys","split","paddingKey","paddingValue","paddingVariation","isNaN","Number","extractMarginValues","margins","marginPropsKeys","marginKey","marginValue","extractAlignmentsValues","row","center","alignments","alignmentRules","flexDirection","justifyContent","alignItems","positions","attribute","position","extractPositionStyle","POSITION_CONVERSIONS","F","T","B","L","R","H","V","positionProp","positionVariationKey","positionVariation","styleKey","styles","absolute","extractFlexStyle","flexProp","find","item","flexKey","flexValue","convertedFlexKey","flexValueAsNumber","isEmpty","extractAccessibilityProps","pickBy","_value","extractAnimationProps","pick","extractBorderRadiusValue","borderRadius","radiusProp","extractModifierProps","patterns","modifierProps","isModifier","pattern","extractOwnProps","ignoreProps","ownPropTypes","propTypes","ownProps","omit","extractComponentProps","component","componentPropTypes","componentProps","getThemeProps","context","componentName","displayName","constructor","name","themeProps","isFunction","components","forcedThemeProps","forcedThemeComponents","generateModifiersStyle","options","color","boundProps","style","flexStyle","positionStyle","getAlteredModifiersOptions","currentProps","nextProps","ignoredKeys","allKeys","union","changedKeys","isEqual","StyleSheet","create","absoluteFill","absoluteFillObject","absoluteTop","top","absoluteBottom","bottom","absoluteLeft","left","absoluteRight","right","absoluteVertical","absoluteHorizontal"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport { Appearance, StyleSheet } from 'react-native';\nimport { Typography, Colors, BorderRadiuses, Spacings, ThemeManager } from \"../style\";\nexport const FLEX_KEY_PATTERN = /^flex(G|S)?(-\\d*)?$/;\nexport const PADDING_KEY_PATTERN = new RegExp(`padding[LTRBHV]?-([0-9]*|${Spacings.getKeysPattern()})`);\nexport const MARGIN_KEY_PATTERN = new RegExp(`margin[LTRBHV]?-([0-9]*|${Spacings.getKeysPattern()})`);\nexport const ALIGNMENT_KEY_PATTERN = /(left|top|right|bottom|center|centerV|centerH|spread)/;\nexport const POSITION_KEY_PATTERN = /^abs([F|L|R|T|B|V|H])?$/;\nconst PADDING_VARIATIONS = {\n  padding: 'padding',\n  paddingL: 'paddingLeft',\n  paddingT: 'paddingTop',\n  paddingR: 'paddingRight',\n  paddingB: 'paddingBottom',\n  paddingH: 'paddingHorizontal',\n  paddingV: 'paddingVertical'\n};\nconst MARGIN_VARIATIONS = {\n  margin: 'margin',\n  marginL: 'marginLeft',\n  marginT: 'marginTop',\n  marginR: 'marginRight',\n  marginB: 'marginBottom',\n  marginH: 'marginHorizontal',\n  marginV: 'marginVertical'\n};\nconst STYLE_KEY_CONVERTERS = {\n  flex: 'flex',\n  flexG: 'flexGrow',\n  flexS: 'flexShrink'\n};\nexport function extractColorValue(props) {\n  const scheme = Appearance.getColorScheme() || 'light';\n  const schemeColors = Colors.schemes[scheme];\n  const allColorsKeys = [..._.keys(Colors), ..._.keys(schemeColors)];\n\n  const colorPropsKeys = _.chain(props).keys().filter(key => _.includes(allColorsKeys, key)).value();\n\n  const colorKey = _.findLast(colorPropsKeys, colorKey => props[colorKey] === true);\n\n  return schemeColors[colorKey] || Colors[colorKey];\n}\nexport function extractBackgroundColorValue(props) {\n  let backgroundColor;\n  const scheme = Appearance.getColorScheme() || 'light';\n  const schemeColors = Colors.schemes[scheme];\n  const keys = Object.keys(props);\n\n  const bgProp = _.findLast(keys, prop => Colors.getBackgroundKeysPattern().test(prop) && !!props[prop]);\n\n  if (props[bgProp]) {\n    const key = bgProp.replace(Colors.getBackgroundKeysPattern(), '');\n    backgroundColor = schemeColors[key] || Colors[key];\n  }\n\n  return backgroundColor;\n}\nexport function extractTypographyValue(props) {\n  const typographyPropsKeys = _.chain(props).keys().filter(key => Typography.getKeysPattern().test(key)).value();\n\n  let typography;\n\n  _.forEach(typographyPropsKeys, key => {\n    if (props[key] === true) {\n      typography = { ...typography,\n        ...Typography[key]\n      };\n    }\n  });\n\n  return typography;\n}\nexport function extractPaddingValues(props) {\n  const paddings = {};\n\n  const paddingPropsKeys = _.chain(props).keys().filter(key => PADDING_KEY_PATTERN.test(key)).value();\n\n  _.forEach(paddingPropsKeys, key => {\n    if (props[key] === true) {\n      const [paddingKey, paddingValue] = key.split('-');\n      const paddingVariation = PADDING_VARIATIONS[paddingKey];\n\n      if (!isNaN(Number(paddingValue))) {\n        paddings[paddingVariation] = Number(paddingValue);\n      } else if (Spacings.getKeysPattern().test(paddingValue)) {\n        paddings[paddingVariation] = Spacings[paddingValue];\n      }\n    }\n  });\n\n  return paddings;\n}\nexport function extractMarginValues(props) {\n  const margins = {};\n\n  const marginPropsKeys = _.chain(props).keys().filter(key => MARGIN_KEY_PATTERN.test(key)).value();\n\n  _.forEach(marginPropsKeys, key => {\n    if (props[key] === true) {\n      const [marginKey, marginValue] = key.split('-');\n      const paddingVariation = MARGIN_VARIATIONS[marginKey];\n\n      if (!isNaN(Number(marginValue))) {\n        margins[paddingVariation] = Number(marginValue);\n      } else if (Spacings.getKeysPattern().test(marginValue)) {\n        margins[paddingVariation] = Spacings[marginValue];\n      }\n    }\n  });\n\n  return margins;\n}\nexport function extractAlignmentsValues(props) {\n  const {\n    row,\n    center\n  } = props;\n  const alignments = {};\n  const alignmentRules = {};\n\n  if (row) {\n    alignments.flexDirection = 'row';\n    alignmentRules.justifyContent = ['left', 'right', 'centerH', 'spread'];\n    alignmentRules.alignItems = ['top', 'bottom', 'centerV'];\n  } else {\n    alignmentRules.justifyContent = ['top', 'bottom', 'centerV', 'spread'];\n    alignmentRules.alignItems = ['left', 'right', 'centerH'];\n  }\n\n  _.forEach(alignmentRules, (positions, attribute) => {\n    _.forEach(positions, position => {\n      if (props[position]) {\n        if (_.includes(['top', 'left'], position)) {\n          alignments[attribute] = 'flex-start';\n        } else if (_.includes(['bottom', 'right'], position)) {\n          alignments[attribute] = 'flex-end';\n        } else if (_.includes(['centerH', 'centerV'], position)) {\n          alignments[attribute] = 'center';\n        } else if (position === 'spread') {\n          alignments[attribute] = 'space-between';\n        }\n      }\n    });\n  });\n\n  if (center) {\n    alignments.justifyContent = 'center';\n    alignments.alignItems = 'center';\n  }\n\n  return alignments;\n}\nexport function extractPositionStyle(props) {\n  const POSITION_CONVERSIONS = {\n    F: 'Fill',\n    T: 'Top',\n    B: 'Bottom',\n    L: 'Left',\n    R: 'Right',\n    H: 'Horizontal',\n    V: 'Vertical'\n  };\n  const keys = Object.keys(props);\n\n  const positionProp = _.findLast(keys, prop => POSITION_KEY_PATTERN.test(prop) && !!props[prop]);\n\n  if (positionProp) {\n    const positionVariationKey = _.split(positionProp, 'abs')[1];\n\n    if (positionVariationKey) {\n      const positionVariation = POSITION_CONVERSIONS[positionVariationKey];\n      const styleKey = `absolute${positionVariation}`;\n      return styles[styleKey];\n    }\n\n    return styles.absolute;\n  }\n}\nexport function extractFlexStyle(props) {\n  const keys = Object.keys(props);\n  const flexProp = keys.find(item => FLEX_KEY_PATTERN.test(item));\n\n  if (flexProp && props[flexProp] === true) {\n    const [flexKey, flexValue] = flexProp.split('-');\n    const convertedFlexKey = STYLE_KEY_CONVERTERS[flexKey];\n    const flexValueAsNumber = _.isEmpty(flexValue) ? 1 : Number(flexValue);\n    return {\n      [convertedFlexKey]: flexValueAsNumber\n    };\n  }\n} //@ts-ignore\n\nexport function extractAccessibilityProps(props = this.props) {\n  return _.pickBy(props, (_value, key) => {\n    return /.*ccessib.*/.test(key);\n  });\n} //@ts-ignore\n\nexport function extractAnimationProps(props = this.props) {\n  return _.pick(props, ['animation', 'duration', 'delay', 'direction', 'easing', 'iterationCount', 'transition', 'onAnimationBegin', 'onAnimationEnd', 'useNativeDriver']);\n}\nexport function extractBorderRadiusValue(props) {\n  let borderRadius;\n  const keys = Object.keys(props);\n  const radiusProp = keys.find(prop => BorderRadiuses.getKeysPattern().test(prop) && props[prop]);\n\n  if (radiusProp) {\n    borderRadius = BorderRadiuses[radiusProp];\n  }\n\n  return borderRadius;\n}\nexport function extractModifierProps(props) {\n  const patterns = [FLEX_KEY_PATTERN, PADDING_KEY_PATTERN, MARGIN_KEY_PATTERN, ALIGNMENT_KEY_PATTERN, Colors.getBackgroundKeysPattern()];\n\n  const modifierProps = _.pickBy(props, (_value, key) => {\n    const isModifier = _.find(patterns, pattern => pattern.test(key));\n\n    return !!isModifier;\n  });\n\n  return modifierProps;\n}\n/**\n * TODO:\n * @deprecated switch to Modifiers#extractComponentProps\n */\n\nexport function extractOwnProps(props, ignoreProps) {\n  //@ts-ignore\n  const ownPropTypes = this.propTypes;\n\n  const ownProps = _.chain(props).pickBy((_value, key) => _.includes(Object.keys(ownPropTypes), key)).omit(ignoreProps).value();\n\n  return ownProps;\n}\nexport function extractComponentProps(component, props, ignoreProps = []) {\n  const componentPropTypes = component.propTypes;\n\n  const componentProps = _.chain(props).pickBy((_value, key) => _.includes(Object.keys(componentPropTypes), key)).omit(ignoreProps).value();\n\n  return componentProps;\n} //@ts-ignore\n\nexport function getThemeProps(props = this.props, context = this.context) {\n  //@ts-ignore\n  const componentName = this.displayName || this.constructor.displayName || this.constructor.name;\n  let themeProps;\n\n  if (_.isFunction(ThemeManager.components[componentName])) {\n    themeProps = ThemeManager.components[componentName](props, context);\n  } else {\n    themeProps = ThemeManager.components[componentName];\n  }\n\n  let forcedThemeProps;\n\n  if (_.isFunction(ThemeManager.forcedThemeComponents[componentName])) {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName](props, context);\n  } else {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName];\n  }\n\n  return { ...themeProps,\n    ...props,\n    ...forcedThemeProps\n  };\n}\nexport function generateModifiersStyle(options = {\n  color: true,\n  typography: true,\n  backgroundColor: true,\n  borderRadius: true,\n  paddings: true,\n  margins: true,\n  alignments: true,\n  flex: true,\n  position: true\n}, props) {\n  //@ts-ignore\n  const boundProps = props || this.props;\n  const style = {};\n\n  if (options.color) {\n    style.color = extractColorValue(boundProps);\n  }\n\n  if (options.typography) {\n    style.typography = extractTypographyValue(boundProps);\n  }\n\n  if (options.backgroundColor) {\n    style.backgroundColor = extractBackgroundColorValue(boundProps);\n  }\n\n  if (options.borderRadius) {\n    style.borderRadius = extractBorderRadiusValue(boundProps);\n  }\n\n  if (options.paddings) {\n    style.paddings = extractPaddingValues(boundProps);\n  }\n\n  if (options.margins) {\n    style.margins = extractMarginValues(boundProps);\n  }\n\n  if (options.alignments) {\n    style.alignments = extractAlignmentsValues(boundProps);\n  }\n\n  if (options.flex) {\n    style.flexStyle = extractFlexStyle(boundProps);\n  }\n\n  if (options.position) {\n    style.positionStyle = extractPositionStyle(boundProps);\n  }\n\n  return style; // clean empty objects and undefined\n  // (!) This change is currently breaking UI layout for some reason - worth investigating\n  // return _.omitBy(style, value => _.isUndefined(value) || (_.isPlainObject(value) && _.isEmpty(value)));\n}\nexport function getAlteredModifiersOptions(currentProps, nextProps) {\n  const ignoredKeys = ['children', 'forwardedRef', 'style', 'testID'];\n\n  const allKeys = _.union([..._.keys(currentProps), ..._.keys(nextProps)]).filter(key => !ignoredKeys.includes(key));\n\n  const changedKeys = _.filter(allKeys, key => !_.isEqual(currentProps[key], nextProps[key]));\n\n  const options = {};\n\n  if (_.find(changedKeys, key => FLEX_KEY_PATTERN.test(key))) {\n    options.flex = true;\n  }\n\n  if (_.find(changedKeys, key => PADDING_KEY_PATTERN.test(key))) {\n    options.paddings = true;\n  }\n\n  if (_.find(changedKeys, key => MARGIN_KEY_PATTERN.test(key))) {\n    options.margins = true;\n  }\n\n  if (_.find(changedKeys, key => ALIGNMENT_KEY_PATTERN.test(key))) {\n    options.alignments = true;\n  }\n\n  if (_.find(changedKeys, key => Colors.getBackgroundKeysPattern().test(key))) {\n    options.backgroundColor = true;\n  }\n\n  if (_.find(changedKeys, key => POSITION_KEY_PATTERN.test(key))) {\n    options.position = true;\n  }\n\n  return options;\n}\nconst styles = StyleSheet.create({\n  absolute: {\n    position: 'absolute'\n  },\n  absoluteFill: StyleSheet.absoluteFillObject,\n  absoluteTop: {\n    position: 'absolute',\n    top: 0\n  },\n  absoluteBottom: {\n    position: 'absolute',\n    bottom: 0\n  },\n  absoluteLeft: {\n    position: 'absolute',\n    left: 0\n  },\n  absoluteRight: {\n    position: 'absolute',\n    right: 0\n  },\n  absoluteVertical: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0\n  },\n  absoluteHorizontal: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});"]},"metadata":{},"sourceType":"module"}
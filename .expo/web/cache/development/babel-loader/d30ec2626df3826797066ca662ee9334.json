{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/incubator/TabController/TabPage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PropTypes from 'prop-types';\nimport Reanimated from 'react-native-reanimated';\nimport _ from 'lodash';\nimport TabBarContext from \"./TabBarContext\";\nimport { Constants } from \"../../helpers\";\nvar Code = Reanimated.Code,\n    Value = Reanimated.Value,\n    cond = Reanimated.cond,\n    set = Reanimated.set,\n    and = Reanimated.and,\n    call = Reanimated.call,\n    block = Reanimated.block,\n    eq = Reanimated.eq;\n\nvar TabPage = function (_PureComponent) {\n  _inherits(TabPage, _PureComponent);\n\n  var _super = _createSuper(TabPage);\n\n  function TabPage() {\n    var _this;\n\n    _classCallCheck(this, TabPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      loaded: !_this.props.lazy\n    };\n    _this._loaded = new Value(Number(!_this.props.lazy));\n    _this._opacity = new Value(0);\n    _this._zIndex = new Value(0);\n    _this._pageStyle = [{\n      opacity: _this._opacity\n    }, _this.context.asCarousel ? styles.carouselPage : styles.page, {\n      zIndex: _this._zIndex\n    }];\n\n    _this.lazyLoad = function () {\n      setTimeout(function () {\n        _this.setState({\n          loaded: true\n        });\n      }, _this.props.lazyLoadTime);\n    };\n\n    _this.renderCodeBlock = function () {\n      var currentPage = _this.context.currentPage;\n      var _this$props = _this.props,\n          index = _this$props.index,\n          lazy = _this$props.lazy;\n      return block([cond(and(eq(currentPage, index), lazy, eq(_this._loaded, 0)), [set(_this._loaded, 1), call([], _this.lazyLoad)]), cond(eq(currentPage, index), [set(_this._opacity, 1), set(_this._zIndex, 1)], [set(_this._opacity, 0), set(_this._zIndex, 0)])]);\n    };\n\n    return _this;\n  }\n\n  _createClass(TabPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          renderLoading = _this$props2.renderLoading,\n          testID = _this$props2.testID;\n      var loaded = this.state.loaded;\n      return React.createElement(Reanimated.View, {\n        style: this._pageStyle,\n        testID: testID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, !loaded && renderLoading(), loaded && this.props.children, React.createElement(Code, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, this.renderCodeBlock));\n    }\n  }]);\n\n  return TabPage;\n}(PureComponent);\n\nTabPage.displayName = 'IGNORE';\nTabPage.contextType = TabBarContext;\nTabPage.propTypes = {\n  index: PropTypes.number.isRequired,\n  lazy: PropTypes.bool,\n  lazyLoadTime: PropTypes.number,\n  renderLoading: PropTypes.elementType\n};\nTabPage.defaultProps = {\n  activeOpacity: 0.6,\n  lazyLoadTime: 300,\n  renderLoading: _.noop\n};\nexport { TabPage as default };\nvar styles = StyleSheet.create({\n  page: _objectSpread({}, StyleSheet.absoluteFillObject),\n  carouselPage: {\n    width: Constants.screenWidth,\n    flex: 1,\n    opacity: 1\n  }\n});","map":{"version":3,"sources":["/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/incubator/TabController/TabPage.js"],"names":["React","PureComponent","PropTypes","Reanimated","_","TabBarContext","Constants","Code","Value","cond","set","and","call","block","eq","TabPage","state","loaded","props","lazy","_loaded","Number","_opacity","_zIndex","_pageStyle","opacity","context","asCarousel","styles","carouselPage","page","zIndex","lazyLoad","setTimeout","setState","lazyLoadTime","renderCodeBlock","currentPage","index","renderLoading","testID","children","displayName","contextType","propTypes","number","isRequired","bool","elementType","defaultProps","activeOpacity","noop","StyleSheet","create","absoluteFillObject","width","screenWidth","flex"],"mappings":"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","sourcesContent":["import React, {PureComponent} from 'react';\nimport {StyleSheet} from 'react-native';\nimport PropTypes from 'prop-types';\nimport Reanimated from 'react-native-reanimated';\nimport _ from 'lodash';\nimport TabBarContext from './TabBarContext';\nimport {Constants} from '../../helpers';\n\nconst {Code, Value, cond, set, and, call, block, eq} = Reanimated;\n\n/**\n * @description: TabController's TabPage\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/incubatorScreens/TabControllerScreen/index.js\n */\nexport default class TabPage extends PureComponent {\n  static displayName = 'IGNORE';\n\n  static contextType = TabBarContext;\n\n  static propTypes = {\n    /**\n     * The index of the the TabPage\n     */\n    index: PropTypes.number.isRequired,\n    /**\n     * Whether this page should be loaded lazily\n     */\n    lazy: PropTypes.bool,\n    /**\n     * How long to wait till lazy load complete (good for showing loader screens)\n     */\n    lazyLoadTime: PropTypes.number,\n    /**\n     * Render a custom loading page when lazy loading\n     */\n    renderLoading: PropTypes.elementType\n  };\n\n  static defaultProps = {\n    activeOpacity: 0.6,\n    lazyLoadTime: 300,\n    renderLoading: _.noop\n  };\n\n  state = {\n    loaded: !this.props.lazy\n  };\n\n  _loaded = new Value(Number(!this.props.lazy));\n  _opacity = new Value(0);\n  _zIndex = new Value(0);\n  _pageStyle = [\n    {opacity: this._opacity},\n    this.context.asCarousel ? styles.carouselPage : styles.page,\n    {zIndex: this._zIndex}\n  ];\n\n  lazyLoad = () => {\n    setTimeout(() => {\n      this.setState({\n        loaded: true\n      });\n    }, this.props.lazyLoadTime); // tab bar indicator transition time\n  };\n\n  renderCodeBlock = () => {\n    const {currentPage} = this.context;\n    const {index, lazy} = this.props;\n    return block([\n      cond(and(eq(currentPage, index), lazy, eq(this._loaded, 0)), [set(this._loaded, 1), call([], this.lazyLoad)]),\n      cond(eq(currentPage, index),\n        [set(this._opacity, 1), set(this._zIndex, 1)],\n        [set(this._opacity, 0), set(this._zIndex, 0)])\n    ]);\n  };\n\n  render() {\n    const {renderLoading, testID} = this.props;\n    const {loaded} = this.state;\n\n    return (\n      <Reanimated.View style={this._pageStyle} testID={testID}>\n        {!loaded && renderLoading()}\n        {loaded && this.props.children}\n        <Code>\n          {this.renderCodeBlock}\n        </Code>\n      </Reanimated.View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  page: {\n    ...StyleSheet.absoluteFillObject\n  },\n  carouselPage: {\n    width: Constants.screenWidth,\n    flex: 1,\n    opacity: 1\n  }\n});\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/components/actionSheet/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _pt from \"prop-types\";\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { ActionSheetIOS } from \"react-native-web/dist/index\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Constants } from \"../../helpers\";\nimport { Colors } from \"../../style\";\nimport { asBaseComponent } from \"../../commons/new\";\nimport Dialog from \"../dialog\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport Image from \"../image\";\nimport ListItem from \"../listItem\";\nimport PanningProvider from \"../panningViews/panningProvider\";\nvar VERTICAL_PADDING = 8;\n\nvar ActionSheet = function (_Component) {\n  _inherits(ActionSheet, _Component);\n\n  var _super = _createSuper(ActionSheet);\n\n  function ActionSheet(props) {\n    var _this;\n\n    _classCallCheck(this, ActionSheet);\n\n    _this = _super.call(this, props);\n\n    _this.handleRenderIcon = function (option) {\n      var source = option.icon;\n\n      if (!source) {\n        source = _.isFunction(option.iconSource) ? option.iconSource() : option.iconSource;\n      }\n\n      return source && _this.renderIcon(source);\n    };\n\n    _this.onOptionPress = _this.onOptionPress.bind(_assertThisInitialized(_this));\n    _this.renderAction = _this.renderAction.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ActionSheet, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var useNativeIOS = this.props.useNativeIOS;\n      var wasVisible = prevProps.visible;\n      var willBeVisible = this.props.visible;\n\n      if (!wasVisible && willBeVisible && useNativeIOS && Constants.isIOS) {\n        var _this$props = this.props,\n            title = _this$props.title,\n            message = _this$props.message,\n            cancelButtonIndex = _this$props.cancelButtonIndex,\n            destructiveButtonIndex = _this$props.destructiveButtonIndex,\n            options = _this$props.options,\n            showCancelButton = _this$props.showCancelButton;\n        var optionsArray = options !== undefined ? options : [];\n        var cancelBtnIndex = cancelButtonIndex;\n\n        if (showCancelButton) {\n          optionsArray.push({\n            label: 'Cancel'\n          });\n          cancelBtnIndex = optionsArray.length - 1;\n        }\n\n        ActionSheetIOS.showActionSheetWithOptions({\n          title: title,\n          message: message,\n          options: optionsArray.map(function (option) {\n            return (option == null ? void 0 : option.label) || '';\n          }),\n          cancelButtonIndex: cancelBtnIndex,\n          destructiveButtonIndex: destructiveButtonIndex\n        }, this.onOptionPress);\n      }\n    }\n  }, {\n    key: \"onOptionPress\",\n    value: function onOptionPress(optionIndex) {\n      _.invoke(this.props, \"options[\" + optionIndex + \"].onPress\");\n\n      _.invoke(this.props, 'onDismiss');\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon(iconSource) {\n      return React.createElement(Image, {\n        source: iconSource,\n        resizeMode: 'contain',\n        style: {\n          width: 20,\n          height: 20,\n          marginRight: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 12\n        }\n      });\n    }\n  }, {\n    key: \"renderAction\",\n    value: function renderAction(option, index) {\n      var _this2 = this;\n\n      return React.createElement(ListItem, {\n        style: {\n          backgroundColor: 'transparent'\n        },\n        height: 48,\n        key: index,\n        testID: option.testID,\n        onPress: function onPress() {\n          return _this2.onOptionPress(index);\n        },\n        activeBackgroundColor: Colors.dark80,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 12\n        }\n      }, React.createElement(View, {\n        row: true,\n        \"paddingL-16\": true,\n        flex: true,\n        centerV: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }\n      }, this.handleRenderIcon(option), React.createElement(Text, {\n        text70: true,\n        dark10: true,\n        numberOfLines: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      }, option.label)));\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          title = _this$props2.title,\n          options = _this$props2.options,\n          cancelButtonIndex = _this$props2.cancelButtonIndex,\n          renderAction = _this$props2.renderAction,\n          optionsStyle = _this$props2.optionsStyle;\n\n      var optionsToRender = _.filter(options, function (_option, index) {\n        return index !== cancelButtonIndex;\n      });\n\n      return React.createElement(View, {\n        style: [_.isEmpty(title) ? styles.listNoTitle : styles.listWithTitle, optionsStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 12\n        }\n      }, _.isFunction(renderAction) ? optionsToRender.map(function (option, index) {\n        return renderAction(option, index, _this3.onOptionPress);\n      }) : _.map(optionsToRender, this.renderAction));\n    }\n  }, {\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      var title = this.props.title;\n\n      if (!_.isEmpty(title)) {\n        return React.createElement(View, {\n          height: 56,\n          \"paddingL-16\": true,\n          centerV: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 14\n          }\n        }, React.createElement(Text, {\n          dark40: true,\n          text70: true,\n          style: {\n            alignSelf: 'flex-start'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 11\n          }\n        }, title));\n      }\n    }\n  }, {\n    key: \"renderSheet\",\n    value: function renderSheet() {\n      var renderTitle = this.props.renderTitle;\n      var containerStyle = this.props.containerStyle;\n      return React.createElement(View, {\n        style: [styles.sheet, containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 12\n        }\n      }, _.isFunction(renderTitle) ? renderTitle() : this.renderTitle(), this.renderActions());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          useNativeIOS = _this$props3.useNativeIOS,\n          visible = _this$props3.visible,\n          onDismiss = _this$props3.onDismiss,\n          dialogStyle = _this$props3.dialogStyle,\n          onModalDismissed = _this$props3.onModalDismissed,\n          testID = _this$props3.testID,\n          useSafeArea = _this$props3.useSafeArea;\n\n      if (Constants.isIOS && useNativeIOS) {\n        return null;\n      }\n\n      return React.createElement(Dialog, {\n        useSafeArea: useSafeArea,\n        testID: testID,\n        bottom: true,\n        centerH: true,\n        width: \"100%\",\n        containerStyle: [styles.dialog, dialogStyle],\n        visible: visible,\n        onDismiss: onDismiss,\n        onModalDismissed: onModalDismissed,\n        panDirection: PanningProvider.Directions.DOWN,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 12\n        }\n      }, this.renderSheet());\n    }\n  }]);\n\n  return ActionSheet;\n}(Component);\n\nActionSheet.propTypes = {\n  visible: _pt.bool.isRequired,\n  title: _pt.string,\n  message: _pt.string,\n  cancelButtonIndex: _pt.number,\n  destructiveButtonIndex: _pt.number,\n  useNativeIOS: _pt.bool,\n  showCancelButton: _pt.bool,\n  renderTitle: _pt.func,\n  renderAction: _pt.func,\n  useSafeArea: _pt.bool,\n  testID: _pt.string\n};\nActionSheet.displayName = 'ActionSheet';\nexport default asBaseComponent(ActionSheet);\nvar styles = StyleSheet.create({\n  sheet: {\n    backgroundColor: Colors.white\n  },\n  dialog: {\n    backgroundColor: Colors.white\n  },\n  listWithTitle: {\n    paddingBottom: VERTICAL_PADDING\n  },\n  listNoTitle: {\n    paddingTop: VERTICAL_PADDING,\n    paddingBottom: VERTICAL_PADDING\n  }\n});","map":{"version":3,"sources":["/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/components/actionSheet/index.js"],"names":["_pt","_","React","Component","ActionSheetIOS","Constants","Colors","asBaseComponent","Dialog","View","Text","Image","ListItem","PanningProvider","VERTICAL_PADDING","ActionSheet","props","handleRenderIcon","option","source","icon","isFunction","iconSource","renderIcon","onOptionPress","bind","renderAction","prevProps","useNativeIOS","wasVisible","visible","willBeVisible","isIOS","title","message","cancelButtonIndex","destructiveButtonIndex","options","showCancelButton","optionsArray","undefined","cancelBtnIndex","push","label","length","showActionSheetWithOptions","map","optionIndex","invoke","width","height","marginRight","index","backgroundColor","testID","dark80","optionsStyle","optionsToRender","filter","_option","isEmpty","styles","listNoTitle","listWithTitle","alignSelf","renderTitle","containerStyle","sheet","renderActions","onDismiss","dialogStyle","onModalDismissed","useSafeArea","dialog","Directions","DOWN","renderSheet","propTypes","bool","isRequired","string","number","func","displayName","StyleSheet","create","white","paddingBottom","paddingTop"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { ActionSheetIOS, StyleSheet } from 'react-native';\nimport { Constants } from \"../../helpers\";\nimport { Colors } from \"../../style\";\nimport { asBaseComponent } from \"../../commons/new\";\nimport Dialog from \"../dialog\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport Image from \"../image\"; //@ts-ignore\n\nimport ListItem from \"../listItem\";\nimport PanningProvider from \"../panningViews/panningProvider\";\nconst VERTICAL_PADDING = 8;\n\n/**\n * @description: Cross platform Action Sheet, with a support for native iOS solution\n * @gif: https://media.giphy.com/media/l0HUpXOR6RqB2ct5S/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ActionSheetScreen.js\n */\nclass ActionSheet extends Component {\n  static propTypes = {\n    /**\n       * Whether to show the action sheet or not\n       */\n    visible: _pt.bool.isRequired,\n\n    /**\n       * Title of the action sheet. Note: if both title and message are not passed will not render the title view at all\n       */\n    title: _pt.string,\n\n    /**\n       * Message of the action sheet\n       */\n    message: _pt.string,\n\n    /**\n       * Index of the option represents the cancel action (to be displayed as the separated bottom bold button)\n       */\n    cancelButtonIndex: _pt.number,\n\n    /**\n       * Index of the option represents the destructive action (will display red text. Usually used for 'delete' or\n       * 'abort' actions)\n       */\n    destructiveButtonIndex: _pt.number,\n\n    /**\n       * Should use the native action sheet for iOS\n       */\n    useNativeIOS: _pt.bool,\n\n    /**\n       * When passed (only with useNativeIOS), will display a cancel button at the bottom (overrides cancelButtonIndex)\n       */\n    showCancelButton: _pt.bool,\n\n    /**\n       * Render custom title\n       */\n    renderTitle: _pt.func,\n\n    /**\n       * Render custom action\n       * Note: you will need to call onOptionPress so the option's onPress will be called\n       */\n    renderAction: _pt.func,\n\n    /**\n       * Whether or not to handle SafeArea\n       */\n    useSafeArea: _pt.bool,\n\n    /**\n       * testID for e2e tests\n       */\n    testID: _pt.string\n  };\n  static displayName = 'ActionSheet';\n\n  constructor(props) {\n    super(props);\n    this.onOptionPress = this.onOptionPress.bind(this);\n    this.renderAction = this.renderAction.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      useNativeIOS\n    } = this.props;\n    const wasVisible = prevProps.visible;\n    const willBeVisible = this.props.visible;\n\n    if (!wasVisible && willBeVisible && useNativeIOS && Constants.isIOS) {\n      const {\n        title,\n        message,\n        cancelButtonIndex,\n        destructiveButtonIndex,\n        options,\n        showCancelButton\n      } = this.props;\n      const optionsArray = options !== undefined ? options : [];\n      let cancelBtnIndex = cancelButtonIndex;\n\n      if (showCancelButton) {\n        optionsArray.push({\n          label: 'Cancel'\n        });\n        cancelBtnIndex = optionsArray.length - 1;\n      }\n\n      ActionSheetIOS.showActionSheetWithOptions({\n        title,\n        message,\n        options: optionsArray.map(option => option?.label || ''),\n        cancelButtonIndex: cancelBtnIndex,\n        destructiveButtonIndex\n      }, this.onOptionPress);\n    }\n  }\n\n  onOptionPress(optionIndex) {\n    _.invoke(this.props, `options[${optionIndex}].onPress`);\n\n    _.invoke(this.props, 'onDismiss');\n  }\n\n  handleRenderIcon = option => {\n    // @ts-ignore\n    let source = option.icon;\n\n    if (!source) {\n      source = _.isFunction(option.iconSource) ? option.iconSource() : option.iconSource;\n    }\n\n    return source && this.renderIcon(source);\n  };\n\n  renderIcon(iconSource) {\n    return <Image source={iconSource} resizeMode={'contain'} style={{\n      width: 20,\n      height: 20,\n      marginRight: 16\n    }} />;\n  }\n\n  renderAction(option, index) {\n    return <ListItem style={{\n      backgroundColor: 'transparent'\n    }} height={48} key={index} testID={option.testID} onPress={() => this.onOptionPress(index)} activeBackgroundColor={Colors.dark80}>\n        <View row paddingL-16 flex centerV>\n          {this.handleRenderIcon(option)}\n          <Text text70 dark10 numberOfLines={1}>\n            {option.label}\n          </Text>\n        </View>\n      </ListItem>;\n  }\n\n  renderActions() {\n    const {\n      title,\n      options,\n      cancelButtonIndex,\n      renderAction,\n      optionsStyle\n    } = this.props;\n\n    const optionsToRender = _.filter(options, (_option, index) => index !== cancelButtonIndex);\n\n    return <View style={[_.isEmpty(title) ? styles.listNoTitle : styles.listWithTitle, optionsStyle]}>\n        {_.isFunction(renderAction) ? optionsToRender.map((option, index) => renderAction(option, index, this.onOptionPress)) : _.map(optionsToRender, this.renderAction)}\n      </View>;\n  }\n\n  renderTitle() {\n    const {\n      title\n    } = this.props;\n\n    if (!_.isEmpty(title)) {\n      return <View height={56} paddingL-16 centerV>\n          <Text dark40 text70 style={{\n          alignSelf: 'flex-start'\n        }}>\n            {title}\n          </Text>\n        </View>;\n    }\n  }\n\n  renderSheet() {\n    const {\n      renderTitle\n    } = this.props;\n    const {\n      containerStyle\n    } = this.props;\n    return <View style={[styles.sheet, containerStyle]}>\n        {_.isFunction(renderTitle) ? renderTitle() : this.renderTitle()}\n        {this.renderActions()}\n      </View>;\n  }\n\n  render() {\n    const {\n      useNativeIOS,\n      visible,\n      onDismiss,\n      dialogStyle,\n      onModalDismissed,\n      testID,\n      useSafeArea\n    } = this.props;\n\n    if (Constants.isIOS && useNativeIOS) {\n      return null;\n    }\n\n    return <Dialog useSafeArea={useSafeArea} testID={testID} bottom centerH width=\"100%\" containerStyle={[styles.dialog, dialogStyle]} visible={visible} onDismiss={onDismiss} onModalDismissed={onModalDismissed} panDirection={PanningProvider.Directions.DOWN}>\n        {this.renderSheet()}\n      </Dialog>;\n  }\n\n}\n\nexport default asBaseComponent(ActionSheet);\nconst styles = StyleSheet.create({\n  sheet: {\n    backgroundColor: Colors.white\n  },\n  dialog: {\n    backgroundColor: Colors.white\n  },\n  listWithTitle: {\n    paddingBottom: VERTICAL_PADDING\n  },\n  listNoTitle: {\n    paddingTop: VERTICAL_PADDING,\n    paddingBottom: VERTICAL_PADDING\n  }\n});"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/components/picker/PickerModal.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Constants } from \"../../helpers\";\nimport { Typography, Colors } from \"../../style\";\nimport Assets from \"../../assets\";\nimport { BaseComponent } from \"../../commons\";\nimport Modal from \"../modal\";\nimport View from \"../view\";\nimport Image from \"../image\";\n\nvar PickerModal = function (_BaseComponent) {\n  _inherits(PickerModal, _BaseComponent);\n\n  var _super = _createSuper(PickerModal);\n\n  function PickerModal() {\n    var _this;\n\n    _classCallCheck(this, PickerModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      scrollHeight: undefined,\n      scrollContentHeight: undefined\n    };\n\n    _this.keyExtractor = function (_item, index) {\n      return index.toString();\n    };\n\n    _this.renderItem = function (_ref) {\n      var index = _ref.index;\n      var children = _this.props.children;\n      return React.Children.toArray(children)[index];\n    };\n\n    return _this;\n  }\n\n  _createClass(PickerModal, [{\n    key: \"generateStyles\",\n    value: function generateStyles() {\n      this.styles = createStyles(this.props);\n    }\n  }, {\n    key: \"renderSearchInput\",\n    value: function renderSearchInput() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          showSearch = _this$props.showSearch,\n          searchStyle = _this$props.searchStyle,\n          searchPlaceholder = _this$props.searchPlaceholder,\n          onSearchChange = _this$props.onSearchChange,\n          renderCustomSearch = _this$props.renderCustomSearch,\n          testID = _this$props.testID;\n\n      if (showSearch) {\n        if (_.isFunction(renderCustomSearch)) {\n          return renderCustomSearch(this.props);\n        }\n\n        return React.createElement(View, {\n          style: this.styles.searchInputContainer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 9\n          }\n        }, React.createElement(Image, {\n          style: this.styles.searchIcon,\n          source: Assets.icons.search,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }\n        }), React.createElement(TextInput, {\n          testID: testID,\n          ref: function ref(r) {\n            return _this2.search = r;\n          },\n          style: [this.styles.searchInput, {\n            color: searchStyle.color\n          }],\n          placeholderTextColor: searchStyle.placeholderTextColor,\n          selectionColor: searchStyle.selectionColor,\n          placeholder: searchPlaceholder,\n          onChangeText: _.throttle(onSearchChange, 300),\n          autoCorrect: false,\n          underlineColorAndroid: \"transparent\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          visible = _this$props2.visible,\n          enableModalBlur = _this$props2.enableModalBlur,\n          topBarProps = _this$props2.topBarProps,\n          listProps = _this$props2.listProps,\n          children = _this$props2.children,\n          onShow = _this$props2.onShow;\n      return React.createElement(Modal, {\n        animationType: 'slide',\n        transparent: Constants.isIOS && enableModalBlur,\n        enableModalBlur: Constants.isIOS && enableModalBlur,\n        visible: visible,\n        onRequestClose: topBarProps.onCancel,\n        onShow: onShow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }\n      }, React.createElement(Modal.TopBar, _extends({}, topBarProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      })), this.renderSearchInput(), React.createElement(FlatList, _extends({\n        data: _.times(React.Children.count(children)),\n        renderItem: this.renderItem,\n        keyExtractor: this.keyExtractor\n      }, listProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n\n  return PickerModal;\n}(BaseComponent);\n\nPickerModal.displayName = 'IGNORE';\nPickerModal.propTypes = _objectSpread(_objectSpread({}, Modal.propTypes), {}, {\n  topBarProps: PropTypes.shape(Modal.TopBar.propTypes),\n  scrollPosition: PropTypes.number,\n  showSearch: PropTypes.bool,\n  searchStyle: PropTypes.shape({\n    color: PropTypes.string,\n    placeholderTextColor: PropTypes.string,\n    selectionColor: PropTypes.string\n  }),\n  searchPlaceholder: PropTypes.string,\n  onSearchChange: PropTypes.func,\n  renderCustomSearch: PropTypes.elementType,\n  listProps: PropTypes.object\n});\nPickerModal.defaultProps = {\n  searchPlaceholder: 'Search...',\n  searchStyle: {}\n};\n\nfunction createStyles() {\n  return StyleSheet.create({\n    modalBody: {},\n    searchInputContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingLeft: 16,\n      borderBottomWidth: StyleSheet.hairlineWidth,\n      borderBottomColor: Colors.dark60\n    },\n    searchIcon: {\n      marginRight: 12\n    },\n    searchInput: _objectSpread({\n      height: 60,\n      paddingRight: 16,\n      flex: 1\n    }, Typography.text70)\n  });\n}\n\nexport default PickerModal;","map":{"version":3,"sources":["/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/components/picker/PickerModal.js"],"names":["_","PropTypes","React","Constants","Typography","Colors","Assets","BaseComponent","Modal","View","Image","PickerModal","state","scrollHeight","undefined","scrollContentHeight","keyExtractor","_item","index","toString","renderItem","children","props","Children","toArray","styles","createStyles","showSearch","searchStyle","searchPlaceholder","onSearchChange","renderCustomSearch","testID","isFunction","searchInputContainer","searchIcon","icons","search","r","searchInput","color","placeholderTextColor","selectionColor","throttle","visible","enableModalBlur","topBarProps","listProps","onShow","isIOS","onCancel","renderSearchInput","times","count","displayName","propTypes","shape","TopBar","scrollPosition","number","bool","string","func","elementType","object","defaultProps","StyleSheet","create","modalBody","flexDirection","alignItems","paddingLeft","borderBottomWidth","hairlineWidth","borderBottomColor","dark60","marginRight","height","paddingRight","flex","text70"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {StyleSheet, FlatList, TextInput} from 'react-native';\nimport {Constants} from '../../helpers';\nimport {Typography, Colors} from '../../style';\nimport Assets from '../../assets';\nimport {BaseComponent} from '../../commons';\nimport Modal from '../modal';\nimport View from '../view';\nimport Image from '../image';\n\nclass PickerModal extends BaseComponent {\n  static displayName = 'IGNORE';\n\n  static propTypes = {\n    ...Modal.propTypes,\n    topBarProps: PropTypes.shape(Modal.TopBar.propTypes),\n    scrollPosition: PropTypes.number,\n    showSearch: PropTypes.bool,\n    searchStyle: PropTypes.shape({\n      color: PropTypes.string,\n      placeholderTextColor: PropTypes.string,\n      selectionColor: PropTypes.string\n    }),\n    searchPlaceholder: PropTypes.string,\n    onSearchChange: PropTypes.func,\n    renderCustomSearch: PropTypes.elementType,\n    listProps: PropTypes.object\n  };\n\n  static defaultProps = {\n    searchPlaceholder: 'Search...',\n    searchStyle: {}\n  };\n\n  state = {\n    scrollHeight: undefined,\n    scrollContentHeight: undefined\n  };\n\n  keyExtractor = (_item, index) => index.toString();\n\n  generateStyles() {\n    this.styles = createStyles(this.props);\n  }\n\n  renderSearchInput() {\n    const {showSearch, searchStyle, searchPlaceholder, onSearchChange, renderCustomSearch, testID} = this.props;\n\n    if (showSearch) {\n      if (_.isFunction(renderCustomSearch)) {\n        return renderCustomSearch(this.props);\n      }\n\n      return (\n        <View style={this.styles.searchInputContainer}>\n          <Image style={this.styles.searchIcon} source={Assets.icons.search}/>\n          <TextInput\n            testID={testID}\n            ref={r => (this.search = r)}\n            style={[this.styles.searchInput, {color: searchStyle.color}]}\n            placeholderTextColor={searchStyle.placeholderTextColor}\n            selectionColor={searchStyle.selectionColor}\n            placeholder={searchPlaceholder}\n            onChangeText={_.throttle(onSearchChange, 300)}\n            autoCorrect={false}\n            underlineColorAndroid=\"transparent\"\n          />\n        </View>\n      );\n    }\n  }\n\n  renderItem = ({index}) => {\n    const {children} = this.props;\n    return React.Children.toArray(children)[index];\n  };\n\n  render() {\n    const {visible, enableModalBlur, topBarProps, listProps, children, onShow} = this.props;\n    return (\n      <Modal\n        animationType={'slide'}\n        transparent={Constants.isIOS && enableModalBlur}\n        enableModalBlur={Constants.isIOS && enableModalBlur}\n        visible={visible}\n        onRequestClose={topBarProps.onCancel}\n        onShow={onShow}\n      >\n        <Modal.TopBar {...topBarProps}/>\n        {this.renderSearchInput()}\n\n        <FlatList\n          data={_.times(React.Children.count(children))}\n          renderItem={this.renderItem}\n          keyExtractor={this.keyExtractor}\n          {...listProps}\n        />\n      </Modal>\n    );\n  }\n}\n\nfunction createStyles() {\n  return StyleSheet.create({\n    modalBody: {},\n    searchInputContainer: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingLeft: 16,\n      borderBottomWidth: StyleSheet.hairlineWidth,\n      borderBottomColor: Colors.dark60\n    },\n    searchIcon: {\n      marginRight: 12\n    },\n    searchInput: {\n      height: 60,\n      paddingRight: 16,\n      flex: 1,\n      ...Typography.text70\n    }\n  });\n}\n\nexport default PickerModal;\n"]},"metadata":{},"sourceType":"module"}
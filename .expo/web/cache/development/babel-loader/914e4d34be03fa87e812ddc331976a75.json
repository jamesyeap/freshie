{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _pt from \"prop-types\";\nimport React, { PureComponent } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Reanimated from 'react-native-reanimated';\nimport _ from 'lodash';\nimport TabBarContext from \"./TabBarContext\";\nimport { Constants } from \"../../helpers\";\nvar Code = Reanimated.Code,\n    Value = Reanimated.Value,\n    cond = Reanimated.cond,\n    set = Reanimated.set,\n    and = Reanimated.and,\n    call = Reanimated.call,\n    block = Reanimated.block,\n    eq = Reanimated.eq;\n\nvar TabPage = function (_PureComponent) {\n  _inherits(TabPage, _PureComponent);\n\n  var _super = _createSuper(TabPage);\n\n  function TabPage() {\n    var _this;\n\n    _classCallCheck(this, TabPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      loaded: !_this.props.lazy\n    };\n    _this._loaded = new Value(Number(!_this.props.lazy));\n    _this._opacity = new Value(0);\n    _this._zIndex = new Value(0);\n    _this._pageStyle = [{\n      opacity: _this._opacity\n    }, _this.context.asCarousel ? styles.carouselPage : styles.page, _this.context.asCarousel ? {\n      width: _this.context.containerWidth\n    } : undefined, {\n      zIndex: _this._zIndex\n    }];\n\n    _this.lazyLoad = function () {\n      setTimeout(function () {\n        _this.setState({\n          loaded: true\n        });\n      }, _this.props.lazyLoadTime);\n    };\n\n    _this.renderCodeBlock = _.memoize(function () {\n      var targetPage = _this.context.targetPage;\n      var _this$props = _this.props,\n          index = _this$props.index,\n          lazy = _this$props.lazy;\n      return React.createElement(Code, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 12\n        }\n      }, function () {\n        return block([cond(and(eq(targetPage, index), Number(lazy), eq(_this._loaded, 0)), [set(_this._loaded, 1), call([], _this.lazyLoad)]), cond(eq(targetPage, index), [set(_this._opacity, 1), set(_this._zIndex, 1)], [set(_this._opacity, 0), set(_this._zIndex, 0)])]);\n      });\n    });\n    return _this;\n  }\n\n  _createClass(TabPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          renderLoading = _this$props2.renderLoading,\n          testID = _this$props2.testID;\n      var loaded = this.state.loaded;\n      return React.createElement(Reanimated.View, {\n        style: this._pageStyle,\n        testID: testID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 12\n        }\n      }, !loaded && (renderLoading == null ? void 0 : renderLoading()), loaded && this.props.children, this.renderCodeBlock());\n    }\n  }]);\n\n  return TabPage;\n}(PureComponent);\n\nTabPage.propTypes = {\n  index: _pt.number.isRequired,\n  lazy: _pt.bool,\n  lazyLoadTime: _pt.number,\n  renderLoading: _pt.func,\n  testID: _pt.string\n};\nTabPage.displayName = 'TabController.TabPage';\nTabPage.contextType = TabBarContext;\nTabPage.defaultProps = {\n  lazy: false,\n  activeOpacity: 0.6,\n  lazyLoadTime: 300,\n  renderLoading: _.noop\n};\nexport { TabPage as default };\nvar styles = StyleSheet.create({\n  page: _objectSpread({}, StyleSheet.absoluteFillObject),\n  carouselPage: {\n    width: Constants.screenWidth,\n    flex: 1,\n    opacity: 1\n  }\n});","map":{"version":3,"sources":["/Users/jamesyeap1/freshie/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js"],"names":["_pt","React","PureComponent","Reanimated","_","TabBarContext","Constants","Code","Value","cond","set","and","call","block","eq","TabPage","state","loaded","props","lazy","_loaded","Number","_opacity","_zIndex","_pageStyle","opacity","context","asCarousel","styles","carouselPage","page","width","containerWidth","undefined","zIndex","lazyLoad","setTimeout","setState","lazyLoadTime","renderCodeBlock","memoize","targetPage","index","renderLoading","testID","children","propTypes","number","isRequired","bool","func","string","displayName","contextType","defaultProps","activeOpacity","noop","StyleSheet","create","absoluteFillObject","screenWidth","flex"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\nimport React, { PureComponent } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Reanimated from 'react-native-reanimated';\nimport _ from 'lodash';\nimport TabBarContext from \"./TabBarContext\";\nimport { Constants } from \"../../helpers\";\nconst {\n  Code,\n  Value,\n  cond,\n  set,\n  and,\n  call,\n  block,\n  eq\n} = Reanimated;\n\n/**\n * @description: TabController's TabPage\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/TabControllerScreen/index.tsx\n */\nexport default class TabPage extends PureComponent {\n  static propTypes = {\n    /**\n       * The index of the the TabPage\n       */\n    index: _pt.number.isRequired,\n\n    /**\n       * Whether this page should be loaded lazily\n       */\n    lazy: _pt.bool,\n\n    /**\n       * How long to wait till lazy load complete (good for showing loader screens)\n       */\n    lazyLoadTime: _pt.number,\n\n    /**\n       * Render a custom loading page when lazy loading\n       */\n    renderLoading: _pt.func,\n\n    /**\n       * Used as a testing identifier\n       */\n    testID: _pt.string\n  };\n  static displayName = 'TabController.TabPage';\n  static contextType = TabBarContext;\n  static defaultProps = {\n    lazy: false,\n    activeOpacity: 0.6,\n    lazyLoadTime: 300,\n    renderLoading: _.noop\n  };\n  state = {\n    loaded: !this.props.lazy\n  };\n  _loaded = new Value(Number(!this.props.lazy));\n  _opacity = new Value(0);\n  _zIndex = new Value(0);\n  _pageStyle = [{\n    opacity: this._opacity\n  }, this.context.asCarousel ? styles.carouselPage : styles.page, this.context.asCarousel ? {\n    width: this.context.containerWidth\n  } : undefined, {\n    zIndex: this._zIndex\n  }];\n  lazyLoad = () => {\n    setTimeout(() => {\n      this.setState({\n        loaded: true\n      });\n    }, this.props.lazyLoadTime); // tab bar indicator transition time\n  };\n  renderCodeBlock = _.memoize(() => {\n    const {\n      targetPage\n    } = this.context;\n    const {\n      index,\n      lazy\n    } = this.props;\n    return <Code>\n        {() => block([cond(and(eq(targetPage, index), Number(lazy), eq(this._loaded, 0)), [set(this._loaded, 1), call([], this.lazyLoad)]), cond(eq(targetPage, index), [set(this._opacity, 1), set(this._zIndex, 1)], [set(this._opacity, 0), set(this._zIndex, 0)])])}\n      </Code>;\n  });\n\n  render() {\n    const {\n      renderLoading,\n      testID\n    } = this.props;\n    const {\n      loaded\n    } = this.state;\n    return <Reanimated.View style={this._pageStyle} testID={testID}>\n        {!loaded && renderLoading?.()}\n        {loaded && this.props.children}\n        {this.renderCodeBlock()}\n      </Reanimated.View>;\n  }\n\n}\nconst styles = StyleSheet.create({\n  page: { ...StyleSheet.absoluteFillObject\n  },\n  carouselPage: {\n    width: Constants.screenWidth,\n    flex: 1,\n    opacity: 1\n  }\n});"]},"metadata":{},"sourceType":"module"}